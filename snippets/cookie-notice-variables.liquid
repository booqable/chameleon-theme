{% comment %}
  This snippet creates a set of CSS variables for the cookie notice based on the palette selection.
  It should be included in scripts-loading.liquid to provide the cookie style variables.
{% endcomment %}

<style>
  #cc-main {
    opacity: 0;
    transition: opacity var(--animation-duration) var(--transition-function-ease-in-out);
  }
</style>

{%- assign cookie_color_palette = settings.cookie_notice_color_palette -%}

{%- capture cookie_colors -%}
  {
    "--cc-modal-border-radius": "var(--border-radius-dynamic)",
    "--cc-btn-border-radius": "var(--border-radius-dynamic)",
    "--cc-modal-transition-duration": "var(--animation-duration)",
    "--cc-font-family": "var(--font-body)",
    "--cc-btn-primary-border-color": "transparent",
    "--cc-btn-secondary-bg": "transparent",
    "--cc-cookie-category-block-bg": "transparent",
    "--cc-cookie-category-block-hover-bg": "transparent",

    {%- if cookie_color_palette == "one" -%}
      "--cc-link-color": "var(--background-accent)",
      "--cc-bg": "var(--background-primary)",
      "--cc-primary-color": "var(--color-primary)",
      "--cc-secondary-color": "var(--color-primary)",
      "--cc-btn-primary-bg": "var(--background-accent)",
      "--cc-btn-primary-color": "var(--color-accent)",
      "--cc-btn-primary-hover-bg": "var(--background-accent-hover)",
      "--cc-btn-primary-hover-color": "var(--color-accent)",
      "--cc-btn-primary-hover-border-color": "var(--background-accent-hover)",
      "--cc-btn-secondary-color": "var(--color-primary)",
      "--cc-btn-secondary-border-color": "var(--background-accent)",
      "--cc-btn-secondary-hover-bg": "var(--background-accent-secondary-hover)",
      "--cc-btn-secondary-hover-border-color": "var(--background-accent-secondary-hover)",
      "--cc-btn-secondary-hover-color": "var(--color-primary)",
      "--cc-toggle-readonly-bg": "var(--background-accent-hover)",
      "--cc-toggle-readonly-knob-icon-color": "var(--background-accent-hover)",
      "--cc-toggle-on-bg": "var(--background-accent)"
    {%- elsif cookie_color_palette == "two" -%}
      "--cc-link-color": "var(--background-accent-2)",
      "--cc-bg": "var(--background-primary-2)",
      "--cc-primary-color": "var(--color-primary-2)",
      "--cc-secondary-color": "var(--color-primary-2)",
      "--cc-btn-primary-bg": "var(--background-accent-2)",
      "--cc-btn-primary-color": "var(--color-accent-2)",
      "--cc-btn-primary-hover-bg": "var(--background-accent-2-hover)",
      "--cc-btn-primary-hover-color": "var(--color-accent-2)",
      "--cc-btn-primary-hover-border-color": "var(--background-accent-2-hover)",
      "--cc-btn-secondary-color": "var(--color-primary-2)",
      "--cc-btn-secondary-border-color": "var(--background-accent-2)",
      "--cc-btn-secondary-hover-bg": "var(--background-accent-secondary-2-hover)",
      "--cc-btn-secondary-hover-border-color": "var(--background-accent-secondary-2-hover)",
      "--cc-btn-secondary-hover-color": "var(--color-primary-2)",
      "--cc-toggle-readonly-bg": "var(--background-accent-2-hover)",
      "--cc-toggle-readonly-knob-icon-color": "var(--background-accent-2-hover)",
      "--cc-toggle-on-bg": "var(--background-accent-2)"
    {%- elsif cookie_color_palette == "three" -%}
      "--cc-link-color": "var(--background-accent-3)",
      "--cc-bg": "var(--background-primary-3)",
      "--cc-primary-color": "var(--color-primary-3)",
      "--cc-secondary-color": "var(--color-primary-3)",
      "--cc-btn-primary-bg": "var(--background-accent-3)",
      "--cc-btn-primary-color": "var(--color-accent-3)",
      "--cc-btn-primary-hover-bg": "var(--background-accent-3-hover)",
      "--cc-btn-primary-hover-color": "var(--color-accent-3)",
      "--cc-btn-primary-hover-border-color": "var(--background-accent-3-hover)",
      "--cc-btn-secondary-color": "var(--color-primary-3)",
      "--cc-btn-secondary-border-color": "var(--background-accent-3)",
      "--cc-btn-secondary-hover-bg": "var(--background-accent-secondary-3-hover)",
      "--cc-btn-secondary-hover-border-color": "var(--background-accent-secondary-3-hover)",
      "--cc-btn-secondary-hover-color": "var(--color-primary-3)",
      "--cc-toggle-readonly-bg": "var(--background-accent-3-hover)",
      "--cc-toggle-readonly-knob-icon-color": "var(--background-accent-3-hover)",
      "--cc-toggle-on-bg": "var(--background-accent-3)"
    {%- endif -%}
  }
{%- endcapture -%}

<script>
  window.cookieSettings = {
    cookiePalette: "{{ cookie_color_palette }}",
    cookieStyleMap: {{ cookie_colors | strip_newlines | strip }}
  }
</script>
