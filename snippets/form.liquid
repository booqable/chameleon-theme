{% comment %}

  This snippet is using for rendering the contact form;

  title - string
  title_size - string
  text - string
  text_size - string
  name - string
  name_holder - string
  email - string
  email_holder - string
  message - string
  message_holder - string
  success - string
  error - string
  checkbox_label - string
  checkbox_link - string
  checkbox_url - url
  button - string
  variables - string

  Usage:

  {%- render "form",
      id: your_id,
      title: your_id,
      title_size: your_id,
      text: your_id,
      text_size: your_id,
      name: your_id,
      name_holder: your_id,
      email: your_id,
      email_holder: your_id,
      message: your_id,
      message_holder: your_id,
      success: your_id,
      error: your_id,
      checkbox_label: your_id,
      checkbox_link: your_id,
      checkbox_url: your_id,
      button: your_id,
      variables: your_id
  -%}

{% endcomment %}

{{ "form.css" | asset_url | stylesheet_tag }}

<div id="{{- id -}}" class="form__inner" style="{{- variables | escape -}}">
  {%- if title != blank -%}
    <h2 class="form__title form__title--{{- title_size -}}">{{- title -}}</h2>
  {%- endif -%}

  {%- if text != blank -%}
    <div class="form__text{% if text_size == "lg" %} text-large{% endif %}{% if text_size == "md" %} text-medium{%- endif -%}">
      {{- text -}}
    </div>
  {%- endif -%}

  {%- form 'contact' -%}
    <div class="form__sender-name">
      <label class="form__label" for="author">
        {%- if name != blank -%}
          {{- name -}}
        {%- else -%}
          Name
        {%- endif -%}
      </label>

      <input
        type="text"
        id="author"
        class="form__field{% if form.errors.author %} error{%- endif -%}"
        name="form[author]"
        title="{%- if name != blank -%}{{- name -}}{%- else -%}Name{%- endif -%}"
        placeholder="{{- name_holder -}}"
        {%- if form.errors != blank -%}
          value="{{ form.author }}"
        {%- endif -%}
      >
    </div>

    <div class="form__sender-email">
      <label class="form__label" for="email">
        {%- if email != blank -%}
          {{- email -}}
        {%- else -%}
          Email
        {%- endif -%}
      </label>

      <input
        type="email"
        id="email"
        class="form__field{% if form.errors.email %} error{%- endif -%}"
        name="form[email]"
        pattern="^[a-zA-Z0-9!#$%&'*+\.\/=?^_`{|}~-]+@[\w-]+\.+[\w-]{2,16}$"
        title="(e.g. mail@domain.com)"
        placeholder="{{- email_holder -}}"
        {%- if form.errors != blank -%}
          value="{{ form.email }}"
        {%- endif -%}
      >
    </div>

    <div class="form__message">
      <label class="form__label" for="body">
        {%- if message != blank -%}
          {{- message -}}
        {%- else -%}
          Message
        {%- endif -%}
      </label>

      <textarea
        id="body"
        class="form__textarea{% if form.errors.body %} error{%- endif -%}"
        name="form[body]"
        title="{%- if message != blank -%}{{- message -}}{%- else -%}Message{%- endif -%}"
        placeholder="{{- message_holder -}}"
        rows="5"
      >
        {%- if form.errors != blank -%}{{- form.body | strip -}}{%- endif -%}
      </textarea>
    </div>

    {%- if checkbox_label != blank -%}
      <div class="form__approval">
        <input
          type="checkbox"
          id="checkbox"
          class="form__checkbox{% if form.errors.checkbox %} error{%- endif -%}"
          name="form[checkbox]"
          title="{{- checkbox_label -}}"
          {%- if form.errors != blank -%}
            value="{{ form.checkbox }}"
          {%- endif -%}
          required
        >

        <label class="form__label" for="checkbox">
          {{- checkbox_label -}}&nbsp;<a href="{{  checkbox_url }}">{{- checkbox_link -}}</a>
        </label>
      </div>
    {%- endif -%}

    <div class="form__info">
      {%- if form.posted_successfully -%}
        <p class="success">
          <i class="fa-solid fa-circle-check"></i> {{- success -}}
        </p>
      {%- endif -%}

      {%- if form.errors != blank -%}
        <p class="error">
          <i class="fa-solid fa-circle-exclamation"></i> {{- error -}}
        </p>
      {%- endif -%}
    </div>

    <div class="form__submit">
      <button class="button button--large button--primary">
        {{- button -}}
      </button>
    </div>
  {%- endform -%}
</div>
