{% comment %}

  This snippet is using for rendering the contact form

  id - id
  title - "string" optional,
  description - "string" optional,
  name - "string" optional,
  email - "string" optional,
  message - "string" optional,
  success_message - "string" optional,
  error_message - "string" optional,
  button_label - "string" optional,
  button_variables - "string" optional

  Usage:

  {%- render "form",
      id: your_id,
      title: your_id,
      description: your_id,
      name: your_id,
      email: your_id,
      message: your_id,
      success_message: your_id,
      error_message: your_id,
      button_label: your_id,
      button_variables
  -%}

{% endcomment %}

{{ "form.css" | asset_url | stylesheet_tag }}

<div id="{{- id -}}" class="form__inner" style="{{- button_variables | escape -}}">
  {%- if title != blank -%}
    <h2 class="form__title">{{- title -}}</h2>
  {%- endif -%}

  {%- if description != blank -%}
    <div class="form__text">
      {{- description -}}
    </div>
  {%- endif -%}

  {%- form 'contact' -%}
    <div class="form__sender-name">
      <label class="form__label" for="author">
        {%- if name != blank -%}
          {{- name -}}
        {%- else -%}
          Name
        {%- endif -%}
      </label>

      <input
        type="text"
        id="author"
        class="form__field{% if form.errors.author %} error{%- endif -%}"
        name="form[author]"
        title="(e.g. Jon Doe)"
        placeholder="{%- if name != blank -%}{{- name -}}{%- else -%}Your name{%- endif -%}"
        {%- if form.errors != blank -%}
          value="{{ form.author }}"
        {%- endif -%}
      >
    </div>

    <div class="form__sender-email">
      <label class="form__label" for="email">
        {%- if email != blank -%}
          {{- email -}}
        {%- else -%}
          Email
        {%- endif -%}
      </label>

      <input
        type="email"
        id="email"
        class="form__field{% if form.errors.email %} error{%- endif -%}"
        name="form[email]"
        title="(e.g. mail@domain.com)"
        placeholder="{%- if email != blank -%}{{- email -}}{%- else -%}Your email{%- endif -%}"
        {%- if form.errors != blank -%}
          value="{{ form.email }}"
        {%- endif -%}
      >
    </div>

    <div class="form__message">
      <label class="form__label" for="body">
        {%- if message != blank -%}
          {{- message -}}
        {%- else -%}
          Message
        {%- endif -%}
      </label>

      <textarea
        id="body"
        class="form__textarea{% if form.errors.body %} error{%- endif -%}"
        name="form[body]"
        title="Describe what you want in more detail"
        placeholder="{%- if message != blank -%}{{- message -}}...{%- else -%}Type your message...{%- endif -%}"
        rows="5"
      >
        {%- if form.errors != blank -%}{{- form.body | strip -}}{%- endif -%}
      </textarea>
    </div>

    <div class="form__info">
      {%- if form.posted_successfully -%}
        <p class="success">
          <i class="fa-solid fa-circle-check"></i> {%- if success_message != blank -%}{{- success_message -}}{%- else -%}Thanks for your message! We'll get back to you shortly{%- endif -%}
        </p>
      {%- endif -%}

      {%- if form.errors != blank -%}
        <p class="error">
          <i class="fa-solid fa-circle-exclamation"></i> {%- if error_message != blank -%}{{- error_message -}}{%- else -%}Oops, something went wrong. Please fix the errors and try again{%- endif -%}
        </p>
      {%- endif -%}
    </div>

    <div class="form__submit">
      <button class="button button--large button--primary">
        {%- if button_label != blank -%}
          {{- button_label -}}
        {%- else -%}
          Submit
        {%- endif -%}
      </button>
    </div>
  {%- endform -%}
</div>
