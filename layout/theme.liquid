<!DOCTYPE html>
<html lang="{{ locale }}">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {% comment %} Base stylesheets {% endcomment %}
  {{ "base.css" | asset_url | stylesheet_tag }}
  {{ "rx.css" | asset_url | stylesheet_tag }}
  {% comment %} Fonts {% endcomment %}
  <script src="https://kit.fontawesome.com/ff3b3de2b5.js" crossorigin="anonymous"></script>
  {{ content_for_header }}
  {% if settings.heading_font != blank or settings.body_font != blank %}
    <link rel="preconnect" href="https://fonts.bunny.net">
  {% endif %}
  {% if settings.heading_font != blank %}
    {{ settings.heading_font | font_link }}
  {% endif %}
  {% if settings.body_font != blank %}
    {{ settings.body_font | font_link }}
  {% endif %}
  {% comment %} Color palette related styles {% endcomment %}
  <style>
    :root {
      {%- if settings.primary_color != blank -%}
        --color-accent-background: {{- settings.primary_color -}};
        --color-accent-background-00: {{- settings.primary_color | append: "00" -}};
        --color-accent-secondary-background-hover: {{- settings.primary_color | append: "52" -}};
        --color-accent-secondary-background-active: {{- settings.primary_color | append: "8F" -}};
      {%- else -%}
        --color-accent-background: {{- branding_color -}};
        --color-accent-background-00: {{- branding_color | append: "00" -}};
        --color-accent-secondary-background-hover: {{- branding_color | append: "52" -}};
        --color-accent-secondary-background-active: {{- branding_color | append: "8F" -}};
      {%- endif -%}

      {%- if settings.primary_color_hover != blank -%}
        --color-accent-background-hover: {{- settings.primary_color_hover -}};
      {%- else -%}
        --color-accent-background-hover: {{- branding_color | append: "CC" -}};
      {%- endif -%}

      {%- if settings.primary_color_active != blank -%}
        --color-accent-background-active: {{- settings.primary_color_active -}};
      {%- else -%}
        --color-accent-background-active: {{- branding_color | append: "A6" -}};
      {%- endif -%}

      {%- if settings.accent_foreground_color != blank -%}
        --color-accent-foreground: {{- settings.accent_foreground_color -}};
      {%- endif -%}

      {%- if settings.primary_background_color != blank -%}
        --color-primary-background: {{- settings.primary_background_color -}};
        --color-primary-background-08: {{- settings.primary_background_color | append: "14" -}};
        --color-primary-background-20: {{- settings.primary_background_color | append: "33" -}};
        --color-primary-background-60: {{- settings.primary_background_color | append: "99" -}};
        --color-primary-background-hover: {{- settings.primary_background_color | append: "52" -}};
        --color-primary-background-active: {{- settings.primary_background_color | append: "8F" -}};
      {%- endif -%}

      {%- if settings.primary_foreground_color != blank -%}
        --color-primary-foreground: {{- settings.primary_foreground_color -}};
        --color-primary-foreground-00: {{- settings.primary_foreground_color | append: "00" -}};
        --color-primary-foreground-10: {{- settings.primary_foreground_color | append: "1A" -}};
        --color-primary-foreground-30: {{- settings.primary_foreground_color | append: "4D" -}};
        --color-primary-foreground-45: {{- settings.primary_foreground_color | append: "73" -}};
        --color-primary-foreground-80: {{- settings.primary_foreground_color | append: "CC" -}};
      {%- endif -%}

      {%- if settings.secondary_foreground_color != blank -%}
        --color-secondary-foreground: {{- settings.secondary_foreground_color -}};
      {%- endif -%}

      {%- if settings.third_foreground_color != blank -%}
        --color-third-foreground: {{- settings.third_foreground_color -}};
      {%- endif -%}

      {%- if settings.fourth_foreground_color != blank -%}
        --color-fourth-foreground: {{- settings.fourth_foreground_color -}};
        --color-image-placeholder: {{- settings.fourth_foreground_color -}};
      {%- endif -%}

      {%- if settings.link_color != blank -%}
        --color-link: {{- settings.link_color -}};
      {%- else -%}
        --color-link: {{- branding_color -}};
      {%- endif -%}

      {%- if settings.placeholder_color != blank -%}
        --color-placeholder: {{- settings.placeholder_color -}};
      {%- endif -%}

      {%- if settings.border_color != blank -%}
        --color-border: {{- settings.border_color -}};
      {%- endif -%}

      {% if settings.heading_font != blank %}
        --font-heading: {{ settings.heading_font.family }}, {{ settings.heading_font.fallback_families }};
      {% endif %}
      {% if settings.body_font != blank %}
        --font-body: {{ settings.body_font.family }}, {{ settings.body_font.fallback_families }};
      {% endif %}

      --font-size-h1: {{- settings.h1_size | append: "px" -}};
      --font-size-h2: {{- settings.h2_size | append: "px" -}};
      --font-size-h3: {{- settings.h3_size | append: "px" -}};
      --font-size-h4: {{- settings.h4_size | append: "px" -}};
      --font-size-h5: {{- settings.h5_size | append: "px" -}};
      --font-size-h6: {{- settings.h6_size | append: "px" -}};

      {%- if settings.animation_duration != blank -%}
        --animation-duration: {{- settings.animation_duration | append: "ms"-}}
      {%- endif -%}
    }
  </style>

  {% if page_title == blank %}
    <title>{{ shop.name }}</title>
    <meta property="og:title" content="{{ shop.name }}">
    <meta name="twitter:title" content="{{ shop.name }}">
  {% else %}
    <title>{{ page_title }}</title>
    <meta property="og:title" content="{{ page_title }}">
    <meta name="twitter:title" content="{{ page_title }}">
  {% endif %}
  {% if page_description != blank %}
    <meta name="description" content="{{ page_description }}">
    <meta property="og:description" content="{{ page_description }}">
    <meta name="twitter:description" content="{{ page_description }}">
  {% endif %}
  <meta name="twitter:card" content="summary">
  <meta property="og:locale" content="{{ locale }}">

  {% if product == blank %}
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ canonical_url }}">
  {% else %}
    <meta property="og:type" content="product">
    <meta property="og:url" content="{{ product.url }}">

    {% assign image = product.images.first %}
    {% if image.url != blank %}
      <meta property="og:image" content="{{ image.url | image_url }}">
      <meta property="og:image:secure_url" content="{{ image.url | image_url }}">
      <meta property="og:image:alt" content="{{ product.name }}">
      <meta name="twitter:image" content="{{ image.url | image_url }}">
      <meta name="twitter:image:alt" content="{{ product.name }}">
    {% endif %}
  {% endif %}
</head>
<body>

  <header class="header" id="header">
    {% section 'announcement-bar' %}
    {% section 'header' %}
  </header>

  <main id="main">
    {{ content_for_layout }}
  </main>

  {% section 'footer' %}

  <script src="{{ "focus-point.min.js" | asset_url }}" defer></script>
  <script src="{{ "lazysizes.min.js" | asset_url }}" defer></script>
  <script src="{{ "main.js" | asset_url }}" defer></script>
  <script src="{{ "header.js" | asset_url }}" defer></script>
  <script src="{{ "carousel.js" | asset_url }}" defer></script>

  {{ content_for_body }}

</body>
</html>
