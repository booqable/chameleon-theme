<!DOCTYPE html>
<html lang="{{ locale }}">
  <head>
    {% comment %} Base metadata {% endcomment %}
    {%- render 'page-base-meta',
        brand_color: branding_color,
        canonical_url: canonical_url,
        page_description: page_description,
        page_title: page_title,
        settings: settings,
        is_local_env: local_env?,
        shop: shop
    -%}

    {% comment %} Resource hints for performance {% endcomment %}
    {%- render 'page-resource-hints' -%}

    {% comment %} Preload fonts {% endcomment %}
    {%- render 'fonts', settings: settings -%}

    {{ content_for_checkout_header }}

    {%- render 'page-social-share-meta',
        canonical_url: canonical_url,
        locale: locale,
        image_url: page_meta_image_url,
        image_alt: page_meta_image_alt,
        page_description: page_description,
        page_title: page_title,
        product: product,
        shop: shop
    -%}
  </head>
  <body>
    <main id="main">
      {{ content_for_layout }}
    </main>

    {{ content_for_body }}

    {%- if settings.cookie_notice_activated -%}
      {%- render 'cookie-notice-variables', settings: settings -%}
    {%- endif -%}

    {% comment %} Critical JavaScript files {% endcomment %}
    <script src='{{ 'js-utils-minimal.js' | asset_url }}' defer></script>

    {% comment %} Non-Critical JavaScript files {% endcomment %}
    {%- assign scripts = 'js-cookie-notice-styles-loading.js' -%}
    {%- render 'scripts-loading', scripts: scripts -%}
  </body>
</html>
